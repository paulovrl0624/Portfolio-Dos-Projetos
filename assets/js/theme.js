const root=document.documentElement;const STORAGE_KEY='pref-theme';const btnId='theme-toggle';function setTheme(t){if(t==='dark'){root.setAttribute('data-theme','dark');localStorage.setItem(STORAGE_KEY,'dark')}else{root.setAttribute('data-theme','light');localStorage.setItem(STORAGE_KEY,'light')}}function getStored(){return localStorage.getItem(STORAGE_KEY)}function detect(){return window.matchMedia('(prefers-color-scheme: dark)').matches?'dark':'light'}export function initTheme(){const b=document.getElementById(btnId);const start=getStored()||detect();setTheme(start);if(b){b.addEventListener('click',()=>{const current=root.getAttribute('data-theme');setTheme(current==='dark'?'light':'dark')})}}
